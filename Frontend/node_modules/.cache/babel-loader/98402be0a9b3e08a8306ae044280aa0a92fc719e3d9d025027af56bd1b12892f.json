{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nconst useAuth = () => {\n  _s();\n  const [authenticated, setAuthenticated] = useState(false);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    console.log(\"useAuth: Token\", token);\n    if (token) {\n      setAuthenticated(true);\n      navigate('/dashboard');\n    } else {\n      setAuthenticated(false);\n      navigate('/login');\n    }\n  }, [navigate]);\n  useEffect(() => {\n    console.log(\"Authenticated:\", authenticated);\n  }, [authenticated]);\n  return authenticated;\n};\n_s(useAuth, \"OlN1jcfsAmLPyGTBi36ev21gusg=\", false, function () {\n  return [useNavigate];\n});\nexport default useAuth;","map":{"version":3,"names":["useEffect","useState","useNavigate","useAuth","_s","authenticated","setAuthenticated","navigate","token","localStorage","getItem","console","log"],"sources":["D:/Projects/SCH/library-management-system/Frontend/src/hooks/useAuth.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst useAuth = () => {\r\n  const [authenticated, setAuthenticated] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    console.log(\"useAuth: Token\", token);\r\n\r\n    if (token) {\r\n      setAuthenticated(true);\r\n      navigate('/dashboard')\r\n    } else {\r\n      setAuthenticated(false);\r\n      navigate('/login');\r\n    }\r\n  }, [navigate]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"Authenticated:\", authenticated);\r\n  }, [authenticated]);\r\n\r\n  return authenticated;\r\n};\r\n\r\nexport default useAuth;\r\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpB,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGL,QAAQ,CAAC,KAAK,CAAC;EACzD,MAAMM,QAAQ,GAAGL,WAAW,CAAC,CAAC;EAE9BF,SAAS,CAAC,MAAM;IACd,MAAMQ,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3CC,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEJ,KAAK,CAAC;IAEpC,IAAIA,KAAK,EAAE;MACTF,gBAAgB,CAAC,IAAI,CAAC;MACtBC,QAAQ,CAAC,YAAY,CAAC;IACxB,CAAC,MAAM;MACLD,gBAAgB,CAAC,KAAK,CAAC;MACvBC,QAAQ,CAAC,QAAQ,CAAC;IACpB;EACF,CAAC,EAAE,CAACA,QAAQ,CAAC,CAAC;EAEdP,SAAS,CAAC,MAAM;IACdW,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEP,aAAa,CAAC;EAC9C,CAAC,EAAE,CAACA,aAAa,CAAC,CAAC;EAEnB,OAAOA,aAAa;AACtB,CAAC;AAACD,EAAA,CAtBID,OAAO;EAAA,QAEMD,WAAW;AAAA;AAsB9B,eAAeC,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}